/*C3*/SET SCHEMA PUBLIC
CREATE TABLE IF NOT EXISTS Users(id INTEGER PRIMARY KEY IDENTITY, username VARCHAR(24) NOT NULL, password VARCHAR(24) NOT NULL, UNIQUE(username))
CREATE TABLE IF NOT EXISTS Buddy(id1 INTEGER, id2 INTEGER, FOREIGN KEY (id1) REFERENCES Users(id), FOREIGN KEY (id2) REFERENCES Users(id))
DROP TABLE IF EXISTS Chats
DROP TABLE IF EXISTS Chat
CREATE TABLE Chat(id INTEGER PRIMARY KEY IDENTITY, name VARCHAR(20), UNIQUE(name))
CREATE TABLE Chats(id INTEGER, u_id INTEGER, FOREIGN KEY (id) REFERENCES Chat(id), FOREIGN KEY (u_id) REFERENCES Users(id))
DROP TABLE IF EXISTS Online
CREATE TABLE Online(id INTEGER, online INTEGER, FOREIGN KEY (id) REFERENCES Users(id))
INSERT INTO BUDDY VALUES(1,0)
COMMIT
INSERT INTO BUDDY VALUES(0,1)
COMMIT
DELETE FROM BUDDY WHERE ID1=0 AND ID2=1
COMMIT
DELETE FROM BUDDY WHERE ID1=1 AND ID2=0
COMMIT
INSERT INTO BUDDY VALUES(1,1)
COMMIT
INSERT INTO BUDDY VALUES(1,1)
COMMIT
INSERT INTO CHAT VALUES(0,'643.170568244948')
COMMIT
INSERT INTO CHATS VALUES(0,1)
COMMIT
INSERT INTO CHATS VALUES(0,1)
COMMIT
INSERT INTO BUDDY VALUES(1,0)
COMMIT
INSERT INTO BUDDY VALUES(0,1)
COMMIT
